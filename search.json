[{"path":"https://junnizhang.github.io/BayesRates/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2023 National School Development, Peking University Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":[]},{"path":[]},{"path":[]},{"path":"https://junnizhang.github.io/BayesRates/articles/vig3_math.html","id":"setting","dir":"Articles","previous_headings":"Models for forecasting summary indicators","what":"Setting","title":"vig3_math","text":"Let \\(\\gamma_{}\\) demographic rate age group \\(\\) period \\(t\\). rate , instance, first marriage rate, remarriage rate, divorce rate. rate might refer whole population, specific sub-population, females rural areas particular province. sub-populations , stage modelling process, modelled independently. draws \\(\\gamma_{}^{(s)}\\), \\(s = 1, \\cdots S\\), posterior distribution \\(\\gamma_{}\\) years \\(t = 1, \\cdots, T\\). Let \\(\\Gamma_t = \\sum_{=1}^\\gamma_{}\\) summary indicator rates, refer “total” rate. aim draw distribution \\[\\begin{equation}   p(\\Gamma_{T+1}, \\dots, \\Gamma_{T+H} \\mid \\Gamma_{1}, \\dots, \\Gamma_{T}) \\end{equation}\\] drawing \\[\\begin{equation}   p(\\Gamma_{T+1}^{(s)}, \\dots, \\Gamma_{T+H}^{(s)} \\mid \\Gamma_{1}^{(s)}, \\dots, \\Gamma_{T}^{(s)}) \\end{equation}\\] independently posterior draw \\(s\\).","code":""},{"path":"https://junnizhang.github.io/BayesRates/articles/vig3_math.html","id":"model-1-damped-linear-trend","dir":"Articles","previous_headings":"Models for forecasting summary indicators","what":"Model 1: Damped linear trend","title":"vig3_math","text":"\\[\\begin{align}   \\Gamma_t^{(s)} & \\sim \\text{N}(\\Gamma_{t-1}^{(s)} + \\delta_{t-1}^{(s)}, \\tau_{\\Gamma}^{(s)2}) \\\\   \\delta_t^{(s)} & \\sim \\text{N}(\\phi^{(s)} \\delta_{t-1}^{(s)}, \\tau_{\\delta}^{(s)2}) \\\\   \\phi^{(s)} & = a_0 + (a_1 - a_0) \\phi_0^{(s)} \\\\   \\phi_0^{(s)} & \\sim \\text{Beta}(2, 2) \\\\   \\tau_{\\Gamma}^{(s)} & \\sim \\text{N}^+(0, A_{\\Gamma}^2) \\\\   \\tau_{\\delta}^{(s)} & \\sim \\text{N}^+(0, A_{\\delta}^2) \\\\ \\end{align}\\] default, \\(a_0 = 0.8\\), \\(a_1 = 0.98\\), \\(A_{\\Gamma} = ??\\), \\(A_{\\delta} = ??\\). (need experiment values.)","code":""},{"path":"https://junnizhang.github.io/BayesRates/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"John Bryant. Author, maintainer. Junni Zhang. Author.","code":""},{"path":"https://junnizhang.github.io/BayesRates/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Bryant J, Zhang J (2023). BayesRates: Bayesian Smoothing Demographic Rates. R package version 0.1.0, https://junnizhang.github.io/BayesRates/.","code":"@Manual{,   title = {BayesRates: Bayesian Smoothing of Demographic Rates},   author = {John Bryant and Junni Zhang},   year = {2023},   note = {R package version 0.1.0},   url = {https://junnizhang.github.io/BayesRates/}, }"},{"path":"https://junnizhang.github.io/BayesRates/index.html","id":"bayesrates","dir":"","previous_headings":"","what":"Bayesian Smoothing of Demographic Rates","title":"Bayesian Smoothing of Demographic Rates","text":"Using Bayesian methods, smooth demographic rates age time. Internally, calculations done using TMB.","code":""},{"path":"https://junnizhang.github.io/BayesRates/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Bayesian Smoothing of Demographic Rates","text":"Install development version BayesRates GitHub :","code":"# install.packages(\"devtools\") devtools::install_github(\"junnizhang/BayesRates\")"},{"path":"https://junnizhang.github.io/BayesRates/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Bayesian Smoothing of Demographic Rates","text":"Smooth Chinese data divorce rates Extract rates Calculate ‘total divorce rate’, plot ","code":"library(BayesRates) library(ggplot2) library(BayesRates) results <- smooth_agetime(nevent_df = cn_divorces,                           py_df = cn_population,                           spec_time = TimeFixed(),                           byvar = \"sex\") results #> --- Object of class \"BayesRates_results\" --- #>  #>      nevent ~ Poisson(rate * py) #>   log(rate) = age_effect + time_effect #>  age_effect ~ Spline() #> time_effect ~ TimeFixed() #>  #>    agevar: age #>   timevar: time #>     byvar: sex #>    n_draw: 1000 rates <- augment(results) head(rates) #> # A tibble: 6 × 11 #>     age sex     time nevent    py age.mid   .fitted  .lower  .upper .probability #>   <int> <chr>  <int>  <int> <dbl>   <dbl>     <dbl>   <dbl>   <dbl> <list>       #> 1    15 Female  1980      0  489.    15.5   9.33e-6 2.55e-6 3.40e-5 <dbl>        #> 2    15 Female  1981      0  494.    15.5   9.34e-6 2.69e-6 3.36e-5 <dbl>        #> 3    15 Female  1982      0  462.    15.5   1.03e-5 3.04e-6 3.34e-5 <dbl>        #> 4    15 Female  1983      0  496.    15.5   1.19e-5 3.58e-6 4.03e-5 <dbl>        #> 5    15 Female  1984      0  496.    15.5   1.17e-5 3.41e-6 3.80e-5 <dbl>        #> 6    15 Female  1985      0  514.    15.5   1.28e-5 3.65e-6 4.21e-5 <dbl>        #> # ℹ 1 more variable: .observed <dbl> total_divorce_rate <- total_rate(results) ggplot(total_divorce_rate,        aes(x = time, y = .fitted, ymin = .lower, ymax = .upper)) +   facet_wrap(vars(sex)) +   geom_ribbon(fill = \"salmon\") +   geom_line() +   geom_point(aes(y = .observed), col = \"blue\")"},{"path":"https://junnizhang.github.io/BayesRates/reference/BayesRates-package.html","id":null,"dir":"Reference","previous_headings":"","what":"Smooth demographic rates using Bayesian methods — BayesRates-package","title":"Smooth demographic rates using Bayesian methods — BayesRates-package","text":"Use Bayesian methods smooth demographic rates age (optionally) time. Calculations done internally using package TMB.","code":""},{"path":"https://junnizhang.github.io/BayesRates/reference/BayesRates-package.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Smooth demographic rates using Bayesian methods — BayesRates-package","text":"key functions smooth_age() smoothing age smooth_agetime() simultaneously smoothing age time","code":""},{"path":"https://junnizhang.github.io/BayesRates/reference/BayesRates-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Smooth demographic rates using Bayesian methods — BayesRates-package","text":"Maintainer: John Bryant john@bayesiandemography.com Authors: Junni Zhang junnizhang@163.com","code":""},{"path":"https://junnizhang.github.io/BayesRates/reference/RW2.html","id":null,"dir":"Reference","previous_headings":"","what":"Specify a random walk model for the age effect — RW2","title":"Specify a random walk model for the age effect — RW2","text":"Specify second-order random walk model age effect. second-order random walk tends smoother ordinary (first-order) random walk, still flexible enough capture distinctive features age profile modelled.","code":""},{"path":"https://junnizhang.github.io/BayesRates/reference/RW2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Specify a random walk model for the age effect — RW2","text":"","code":"RW2(scale = 1)"},{"path":"https://junnizhang.github.io/BayesRates/reference/RW2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Specify a random walk model for the age effect — RW2","text":"scale Scale error term. Defaults 1.","code":""},{"path":"https://junnizhang.github.io/BayesRates/reference/RW2.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Specify a random walk model for the age effect — RW2","text":"object class BayesRates_spec_rw2.","code":""},{"path":"https://junnizhang.github.io/BayesRates/reference/RW2.html","id":"mathematical-details","dir":"Reference","previous_headings":"","what":"Mathematical details","title":"Specify a random walk model for the age effect — RW2","text":"model age effect, log scale, $$(\\beta_a - \\beta_{-1}) - (\\beta_{-1} - \\beta_{-2}) \\sim \\text{N}(0, \\sigma^2)$$ Parameter \\(\\sigma\\) prior $$\\sigma \\sim \\text{N}^+(0, ^2)$$ \\(\\text{N}^+\\) denotes half-normal distribution, value \\(\\) supplied user.","code":""},{"path":[]},{"path":"https://junnizhang.github.io/BayesRates/reference/RW2.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Specify a random walk model for the age effect — RW2","text":"","code":"RW2() #> < Object of class \"BayesRates_spec_rw2\" > #>           scale: 1 RW2(scale = 0.1) #> < Object of class \"BayesRates_spec_rw2\" > #>           scale: 0.1"},{"path":"https://junnizhang.github.io/BayesRates/reference/Spline.html","id":null,"dir":"Reference","previous_headings":"","what":"Specify a P-spline model for an age effect — Spline","title":"Specify a P-spline model for an age effect — Spline","text":"Specify P-spline (penalised spline) model age effect. P-spline flexible, favours profiles relatively smooth.","code":""},{"path":"https://junnizhang.github.io/BayesRates/reference/Spline.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Specify a P-spline model for an age effect — Spline","text":"","code":"Spline(df = NULL, scale = 1)"},{"path":"https://junnizhang.github.io/BayesRates/reference/Spline.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Specify a P-spline model for an age effect — Spline","text":"df Degrees freedom spline. default 0.7 times number age groups, 4, whichever higher. scale Scale error term. default 1.","code":""},{"path":"https://junnizhang.github.io/BayesRates/reference/Spline.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Specify a P-spline model for an age effect — Spline","text":"object class \"BayesRates_spec_spline\".","code":""},{"path":"https://junnizhang.github.io/BayesRates/reference/Spline.html","id":"mathematical-details","dir":"Reference","previous_headings":"","what":"Mathematical details","title":"Specify a P-spline model for an age effect — Spline","text":"model age effect, log scale, $$\\beta = X \\gamma$$ \\(\\beta\\) vector age effects, \\(X\\) matrix holding basis functions spline, df columns, \\(\\gamma\\) vector coefficients, df elements. elements \\(\\gamma\\) assumed follow second order random walk, $$(\\gamma_a - \\gamma_{-1}) - (\\gamma_{-1} - \\gamma_{-2}) \\sim \\text{N}(0, \\sigma^2)$$ Parameter \\(\\sigma\\) prior $$\\sigma \\sim \\text{N}^+(0, ^2)$$ \\(\\text{N}^+\\) denotes half-normal distribution, value \\(\\) supplied user.","code":""},{"path":[]},{"path":"https://junnizhang.github.io/BayesRates/reference/Spline.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Specify a P-spline model for an age effect — Spline","text":"","code":"Spline() #> < Object of class \"BayesRates_spec_spline\" > #>           scale: 1 Spline(df = 10) #> < Object of class \"BayesRates_spec_spline\" > #>              df: 10 #>           scale: 1"},{"path":"https://junnizhang.github.io/BayesRates/reference/TimeFixed.html","id":null,"dir":"Reference","previous_headings":"","what":"Specify time trends: age pattern fixed — TimeFixed","title":"Specify time trends: age pattern fixed — TimeFixed","text":"Specify time trends shape age profile assumed constant time, even though level may change. level assumed follow random walk.","code":""},{"path":"https://junnizhang.github.io/BayesRates/reference/TimeFixed.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Specify time trends: age pattern fixed — TimeFixed","text":"","code":"TimeFixed(scale = 1)"},{"path":"https://junnizhang.github.io/BayesRates/reference/TimeFixed.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Specify time trends: age pattern fixed — TimeFixed","text":"scale Scale standard deviation error term. Default 1.","code":""},{"path":"https://junnizhang.github.io/BayesRates/reference/TimeFixed.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Specify time trends: age pattern fixed — TimeFixed","text":"object class \"BayesRates_spec_timefixed\".","code":""},{"path":"https://junnizhang.github.io/BayesRates/reference/TimeFixed.html","id":"mathematical-details","dir":"Reference","previous_headings":"","what":"Mathematical details","title":"Specify time trends: age pattern fixed — TimeFixed","text":"model underlying TimeFixed(), $$\\eta_{} = \\alpha_a + \\beta_t$$ \\(\\eta_{}\\) denotes (log) rates age group \\(\\) period \\(t\\), \\(\\alpha_a\\) age effect, \\(\\beta_t\\) time effect, time effect modelled $$\\beta_t = \\beta_{t-1} + \\epsilon_t$$ \\(\\epsilon\\) normally-distributed error term mean \\(0\\) standard deviation \\(\\sigma\\). Standard deviation \\(\\sigma\\) prior $$\\sigma \\sim \\text{N}^+(0, ^2)$$ \\(\\text{N}^+\\) denotes half-normal distribution, value scale parameter \\(\\) supplied user.","code":""},{"path":[]},{"path":"https://junnizhang.github.io/BayesRates/reference/TimeFixed.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Specify time trends: age pattern fixed — TimeFixed","text":"","code":"TimeFixed() #> < Object of class \"BayesRates_spec_timefixed\" > #>           scale: 1 TimeFixed(scale = 2) #> < Object of class \"BayesRates_spec_timefixed\" > #>           scale: 2"},{"path":"https://junnizhang.github.io/BayesRates/reference/TimeVarying.html","id":null,"dir":"Reference","previous_headings":"","what":"Specify time trends: age pattern changes — TimeVarying","title":"Specify time trends: age pattern changes — TimeVarying","text":"Specify time trends age pattern allowed vary smoothly time.","code":""},{"path":"https://junnizhang.github.io/BayesRates/reference/TimeVarying.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Specify time trends: age pattern changes — TimeVarying","text":"","code":"TimeVarying(scale = 1)"},{"path":"https://junnizhang.github.io/BayesRates/reference/TimeVarying.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Specify time trends: age pattern changes — TimeVarying","text":"scale Scale standard deviation error term. Default 1.","code":""},{"path":"https://junnizhang.github.io/BayesRates/reference/TimeVarying.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Specify time trends: age pattern changes — TimeVarying","text":"object class \"BayesRates_spec_timevarying\".","code":""},{"path":"https://junnizhang.github.io/BayesRates/reference/TimeVarying.html","id":"mathematical-details","dir":"Reference","previous_headings":"","what":"Mathematical details","title":"Specify time trends: age pattern changes — TimeVarying","text":"model underlying TimeVarying(), $$\\eta_{} = \\alpha_a + \\beta_{}$$ \\(\\eta_{}\\) denotes (log) rates age group \\(\\) period \\(t\\), \\(\\alpha_a\\) age effect, \\(\\beta_{}\\) age-time interaction, age-time interaction modelled $$\\beta_t = \\beta_{t-1} + \\epsilon_t$$ \\(\\beta_t\\) vector age-specific terms, \\(\\epsilon_t\\) vector drawn multivariate normal mean 0 variance \\(V\\) Element \\(v_{ij}\\) \\(V\\) form $$v_{ij} = \\rho^{|-j|}\\sigma^2$$ Correlation coefficient \\(\\rho\\) Beta(2,2) prior. Standard deviation \\(\\sigma\\) prior $$\\sigma \\sim \\text{N}^+(0, ^2)$$ \\(\\text{N}^+\\) denotes half-normal distribution, value scale parameter \\(\\) supplied user.","code":""},{"path":[]},{"path":"https://junnizhang.github.io/BayesRates/reference/TimeVarying.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Specify time trends: age pattern changes — TimeVarying","text":"","code":"TimeVarying() #> < Object of class \"BayesRates_spec_timevarying\" > TimeVarying(scale = 0.1) #> < Object of class \"BayesRates_spec_timevarying\" >"},{"path":"https://junnizhang.github.io/BayesRates/reference/augment.BayesRates_results.html","id":null,"dir":"Reference","previous_headings":"","what":"Obtain estimates of rates, combined with original data — augment.BayesRates_results","title":"Obtain estimates of rates, combined with original data — augment.BayesRates_results","text":"Extract estimated rates object created call smooth_age() smooth_agetime(), combine original data.","code":""},{"path":"https://junnizhang.github.io/BayesRates/reference/augment.BayesRates_results.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Obtain estimates of rates, combined with original data — augment.BayesRates_results","text":"","code":"# S3 method for BayesRates_results augment(x, interval = 0.95, ...)"},{"path":"https://junnizhang.github.io/BayesRates/reference/augment.BayesRates_results.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Obtain estimates of rates, combined with original data — augment.BayesRates_results","text":"x \"BayesRates_results\" object created calling function smooth_age() smooth_agetime(). interval Width credible intervals. number 0 1. Default 0.95. ... currently used.","code":""},{"path":"https://junnizhang.github.io/BayesRates/reference/augment.BayesRates_results.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Obtain estimates of rates, combined with original data — augment.BayesRates_results","text":"tibble, constructed merging nevent_df py_df, creating six new columns: <agevar>.mid: Midpoints age groups (useful plotting.) .fitted: Point estimates (posterior medians) rates. .lower, .upper: Lower upper bounds credible intervals specified interval. .probability: list column draws posterior distribution. .observed: Direct estimates rates.","code":""},{"path":"https://junnizhang.github.io/BayesRates/reference/augment.BayesRates_results.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Obtain estimates of rates, combined with original data — augment.BayesRates_results","text":"addition modelled rates, augment() also displayed 'direct' estimates rates. Direct estimates estimates obtained dividing events populations risk, smoothing.","code":""},{"path":[]},{"path":"https://junnizhang.github.io/BayesRates/reference/augment.BayesRates_results.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Obtain estimates of rates, combined with original data — augment.BayesRates_results","text":"","code":"results <- smooth_agetime(nevent_df = nz_divorces,                           py_df = nz_population,                           age_width_df = nz_age_width_df,                           age_min = 15) augment(results) #> # A tibble: 660 × 11 #>    age    time sex    nevent     py age.mid .fitted  .lower  .upper .probability #>    <fct> <int> <chr>   <dbl>  <dbl>   <dbl>   <dbl>   <dbl>   <dbl> <list>       #>  1 15-19  1992 Female     12 139500    17.5 2.99e-5 2.46e-5 3.68e-5 <dbl>        #>  2 15-19  1992 Male        0 140660    17.5 2.99e-5 2.46e-5 3.68e-5 <dbl>        #>  3 15-19  1993 Female      6 135510    17.5 2.85e-5 2.35e-5 3.46e-5 <dbl>        #>  4 15-19  1993 Male        0 137470    17.5 2.85e-5 2.35e-5 3.46e-5 <dbl>        #>  5 15-19  1994 Female      9 133010    17.5 2.69e-5 2.24e-5 3.27e-5 <dbl>        #>  6 15-19  1994 Male        0 135920    17.5 2.69e-5 2.24e-5 3.27e-5 <dbl>        #>  7 15-19  1995 Female      6 131960    17.5 2.71e-5 2.25e-5 3.25e-5 <dbl>        #>  8 15-19  1995 Male        0 136430    17.5 2.71e-5 2.25e-5 3.25e-5 <dbl>        #>  9 15-19  1996 Male        0 138000    17.5 2.62e-5 2.20e-5 3.12e-5 <dbl>        #> 10 15-19  1996 Female      3 132490    17.5 2.62e-5 2.20e-5 3.12e-5 <dbl>        #> # ℹ 650 more rows #> # ℹ 1 more variable: .observed <dbl>"},{"path":"https://junnizhang.github.io/BayesRates/reference/cn_divorces.html","id":null,"dir":"Reference","previous_headings":"","what":"Divorces in China — cn_divorces","title":"Divorces in China — cn_divorces","text":"Counts divorces among respondents China Family Panel Studies survey, 1980-2018","code":""},{"path":"https://junnizhang.github.io/BayesRates/reference/cn_divorces.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Divorces in China — cn_divorces","text":"","code":"cn_divorces"},{"path":"https://junnizhang.github.io/BayesRates/reference/cn_divorces.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Divorces in China — cn_divorces","text":"data frame following variables: age: Age, single-year age groups. sex: \"Female\" \"Male\". time: Calendar year. nevent: Numbers divorces year.","code":""},{"path":"https://junnizhang.github.io/BayesRates/reference/cn_divorces.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Divorces in China — cn_divorces","text":"Tabulation China Family Panel Studies (CFPS) survey data.","code":""},{"path":[]},{"path":"https://junnizhang.github.io/BayesRates/reference/cn_population.html","id":null,"dir":"Reference","previous_headings":"","what":"Adult population in China — cn_population","title":"Adult population in China — cn_population","text":"Person-years lived respondents China Family Panel Studies survey, 1980-2018.","code":""},{"path":"https://junnizhang.github.io/BayesRates/reference/cn_population.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Adult population in China — cn_population","text":"","code":"cn_population"},{"path":"https://junnizhang.github.io/BayesRates/reference/cn_population.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Adult population in China — cn_population","text":"data frame following variables: age: Age, single-year age groups. sex: \"Female\" \"Male\". time: Calendar year. py: Person-years lived.","code":""},{"path":"https://junnizhang.github.io/BayesRates/reference/cn_population.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Adult population in China — cn_population","text":"Tabulation China Family Panel Studies (CFPS) survey data.","code":""},{"path":[]},{"path":"https://junnizhang.github.io/BayesRates/reference/components.BayesRates_results.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract components from a results object — components.BayesRates_results","title":"Extract components from a results object — components.BayesRates_results","text":"Extract components object created call smooth_age() smooth_agetime().","code":""},{"path":"https://junnizhang.github.io/BayesRates/reference/components.BayesRates_results.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract components from a results object — components.BayesRates_results","text":"","code":"# S3 method for BayesRates_results components(object, what = NULL, interval = 0.95, ...)"},{"path":"https://junnizhang.github.io/BayesRates/reference/components.BayesRates_results.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract components from a results object — components.BayesRates_results","text":"object results object. Components extracted. value supplied, available components extracted. interval Width credible intervals. number 0 1. Default 0.95. ... currently used.","code":""},{"path":"https://junnizhang.github.io/BayesRates/reference/components.BayesRates_results.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract components from a results object — components.BayesRates_results","text":"named list tibbles, , single value, single tibble. tibble contains classification variables, present .fitted Point estimates (posterior medians). .lower, .upper Lower upper bounds credible intervals. .probability. list column draws posterior distribution. age variable comes versions: original version one .mid suffix. .mid version useful plotting.","code":""},{"path":"https://junnizhang.github.io/BayesRates/reference/components.BayesRates_results.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Extract components from a results object — components.BayesRates_results","text":"object created call smooth_age(), components can extracted : \"rates\" Age-specific rates. \"intercept\" Model intercept. \"age_effect\" Age main effect. \"age_hyper\" Hyper-parameters age main effect. object created call smooth_agetime(), components can extracted \"rates\" Age-time-specific rates \"intercept\" Model intercept. \"age_effect\" Age main effect. \"time_effect\" Time main effect age-time interaction. \"age_hyper\" Hyper-parametres age main effect. \"time_hyper\" Hyper-parameters time main effect age-time interaction.","code":""},{"path":[]},{"path":"https://junnizhang.github.io/BayesRates/reference/components.BayesRates_results.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract components from a results object — components.BayesRates_results","text":"","code":"## run model results <- smooth_age(nevent_df = nz_divorces_2020,                       py_df = nz_population_2020,                       age_width_df = nz_age_width_df,                       age_min = 15)  ## extract all components components(results) #> $rates #> # A tibble: 11 × 6 #>    age   age.mid   .fitted    .lower    .upper .probability  #>    <fct>   <dbl>     <dbl>     <dbl>     <dbl> <list>        #>  1 15-19    17.5 0.0000202 0.0000107 0.0000400 <dbl [1,000]> #>  2 20-24    22.5 0.000493  0.000435  0.000566  <dbl [1,000]> #>  3 25-29    27.5 0.00266   0.00253   0.00279   <dbl [1,000]> #>  4 30-34    32.5 0.00523   0.00503   0.00543   <dbl [1,000]> #>  5 35-39    37.5 0.00630   0.00608   0.00651   <dbl [1,000]> #>  6 40-44    42.5 0.00702   0.00683   0.00722   <dbl [1,000]> #>  7 45-49    47.5 0.00724   0.00701   0.00747   <dbl [1,000]> #>  8 50-54    52.5 0.00638   0.00617   0.00658   <dbl [1,000]> #>  9 55-59    57.5 0.00495   0.00477   0.00515   <dbl [1,000]> #> 10 60-64    62.5 0.00326   0.00307   0.00346   <dbl [1,000]> #> 11 65+      72.5 0.00122   0.00114   0.00129   <dbl [1,000]> #>  #> $intercept #> # A tibble: 1 × 4 #>   .fitted .lower .upper .probability  #>     <dbl>  <dbl>  <dbl> <list>        #> 1   -6.12  -6.19  -6.05 <dbl [1,000]> #>  #> $age_effect #> # A tibble: 11 × 6 #>    age   age.mid .fitted .lower .upper .probability  #>    <fct>   <dbl>   <dbl>  <dbl>  <dbl> <list>        #>  1 15-19    17.5  -4.69  -5.27  -4.08  <dbl [1,000]> #>  2 20-24    22.5  -1.49  -1.60  -1.38  <dbl [1,000]> #>  3 25-29    27.5   0.194  0.107  0.280 <dbl [1,000]> #>  4 30-34    32.5   0.871  0.795  0.942 <dbl [1,000]> #>  5 35-39    37.5   1.06   0.982  1.13  <dbl [1,000]> #>  6 40-44    42.5   1.17   1.09   1.23  <dbl [1,000]> #>  7 45-49    47.5   1.20   1.12   1.27  <dbl [1,000]> #>  8 50-54    52.5   1.07   0.998  1.14  <dbl [1,000]> #>  9 55-59    57.5   0.817  0.741  0.889 <dbl [1,000]> #> 10 60-64    62.5   0.398  0.305  0.485 <dbl [1,000]> #> 11 65+      72.5  -0.590 -0.676 -0.502 <dbl [1,000]> #>  #> $age_hyper #> # A tibble: 2 × 5 #>   hyper .fitted .lower .upper .probability  #>   <chr>   <dbl>  <dbl>  <dbl> <list>        #> 1 sd       2.82  1.88    4.24 <dbl [1,000]> #> 2 slope    1.10  0.701   1.49 <dbl [1,000]> #>   ## extract age effect components(results, what = \"age_effect\") #> # A tibble: 11 × 6 #>    age   age.mid .fitted .lower .upper .probability  #>    <fct>   <dbl>   <dbl>  <dbl>  <dbl> <list>        #>  1 15-19    17.5  -4.69  -5.28  -4.05  <dbl [1,000]> #>  2 20-24    22.5  -1.49  -1.61  -1.39  <dbl [1,000]> #>  3 25-29    27.5   0.192  0.109  0.277 <dbl [1,000]> #>  4 30-34    32.5   0.872  0.800  0.939 <dbl [1,000]> #>  5 35-39    37.5   1.06   0.985  1.13  <dbl [1,000]> #>  6 40-44    42.5   1.16   1.10   1.23  <dbl [1,000]> #>  7 45-49    47.5   1.20   1.13   1.27  <dbl [1,000]> #>  8 50-54    52.5   1.07   1.00   1.14  <dbl [1,000]> #>  9 55-59    57.5   0.813  0.743  0.888 <dbl [1,000]> #> 10 60-64    62.5   0.396  0.308  0.484 <dbl [1,000]> #> 11 65+      72.5  -0.588 -0.671 -0.505 <dbl [1,000]>"},{"path":"https://junnizhang.github.io/BayesRates/reference/n_draw-set.html","id":null,"dir":"Reference","previous_headings":"","what":"Set the number of draws from the posterior distribution — n_draw<-","title":"Set the number of draws from the posterior distribution — n_draw<-","text":"Specify number draws posterior distribution generated results object smooth_age() smooth_agetime().","code":""},{"path":"https://junnizhang.github.io/BayesRates/reference/n_draw-set.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set the number of draws from the posterior distribution — n_draw<-","text":"","code":"n_draw(x) <- value"},{"path":"https://junnizhang.github.io/BayesRates/reference/n_draw-set.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set the number of draws from the posterior distribution — n_draw<-","text":"x object class \"BayesRates_results\", generated call smooth_age() smooth_agetime(). value Number posterior draws. non-negative integer.","code":""},{"path":"https://junnizhang.github.io/BayesRates/reference/n_draw-set.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set the number of draws from the posterior distribution — n_draw<-","text":"modified version x.","code":""},{"path":[]},{"path":"https://junnizhang.github.io/BayesRates/reference/n_draw-set.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Set the number of draws from the posterior distribution — n_draw<-","text":"","code":"res <- smooth_age(nevent_df = nz_divorces_2020,                   py_df = nz_population_2020,                   age_width_df = nz_age_width_df,                   age_min = 15) res #> --- Object of class \"BayesRates_results\" --- #>  #>      nevent ~ Poisson(rate * py) #>   log(rate) = age_effect #>  age_effect ~ Spline() #>  #>    agevar: age #>     byvar: <none> #>    n_draw: 1000 n_draw(res) <- 20 res #> --- Object of class \"BayesRates_results\" --- #>  #>      nevent ~ Poisson(rate * py) #>   log(rate) = age_effect #>  age_effect ~ Spline() #>  #>    agevar: age #>     byvar: <none> #>    n_draw: 20"},{"path":"https://junnizhang.github.io/BayesRates/reference/nz_age_width_df.html","id":null,"dir":"Reference","previous_headings":"","what":"Widths of age groups used with divorce data\nfor New Zealand — nz_age_width_df","title":"Widths of age groups used with divorce data\nfor New Zealand — nz_age_width_df","text":"Widths age groups used nz_divorces, nz_population, nz_divorces_2020, nz_population_2020.","code":""},{"path":"https://junnizhang.github.io/BayesRates/reference/nz_age_width_df.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Widths of age groups used with divorce data\nfor New Zealand — nz_age_width_df","text":"","code":"nz_age_width_df"},{"path":"https://junnizhang.github.io/BayesRates/reference/nz_age_width_df.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Widths of age groups used with divorce data\nfor New Zealand — nz_age_width_df","text":"data frame following variables: age: Age, 5-year age groups, \"15-19\" \"65+\". width: Width age group.","code":""},{"path":[]},{"path":"https://junnizhang.github.io/BayesRates/reference/nz_divorces.html","id":null,"dir":"Reference","previous_headings":"","what":"Divorces in New Zealand — nz_divorces","title":"Divorces in New Zealand — nz_divorces","text":"Counts divorces age, sex, calendar year, New Zealand, 1992-2021.","code":""},{"path":"https://junnizhang.github.io/BayesRates/reference/nz_divorces.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Divorces in New Zealand — nz_divorces","text":"","code":"nz_divorces"},{"path":"https://junnizhang.github.io/BayesRates/reference/nz_divorces.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Divorces in New Zealand — nz_divorces","text":"data frame following variables: age: Age, 5-year age groups, \"15-19\" \"65+\". sex: \"Female\" \"Male\". time: Calendar year. nevent: Numbers divorces year.","code":""},{"path":"https://junnizhang.github.io/BayesRates/reference/nz_divorces.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Divorces in New Zealand — nz_divorces","text":"Derived data table \"Age divorces sex (marriages civil unions) (Annual-Dec)\" online database Infoshare Statistics New Zealand website. Data downloaded 22 March 2023.","code":""},{"path":[]},{"path":"https://junnizhang.github.io/BayesRates/reference/nz_divorces_2020.html","id":null,"dir":"Reference","previous_headings":"","what":"Divorces in New Zealand in 2020 — nz_divorces_2020","title":"Divorces in New Zealand in 2020 — nz_divorces_2020","text":"Counts divorces age sex, New Zealand, 2020.","code":""},{"path":"https://junnizhang.github.io/BayesRates/reference/nz_divorces_2020.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Divorces in New Zealand in 2020 — nz_divorces_2020","text":"","code":"nz_divorces_2020"},{"path":"https://junnizhang.github.io/BayesRates/reference/nz_divorces_2020.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Divorces in New Zealand in 2020 — nz_divorces_2020","text":"data frame following variables: age: Age, 5-year age groups, \"15-19\" \"65+\". sex: \"Female\" \"Male\". nevent: Numbers divorces year.","code":""},{"path":"https://junnizhang.github.io/BayesRates/reference/nz_divorces_2020.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Divorces in New Zealand in 2020 — nz_divorces_2020","text":"Derived data table \"Age divorces sex (marriages civil unions) (Annual-Dec)\" online database Infoshare Statistics New Zealand website. Data downloaded 22 March 2023.","code":""},{"path":[]},{"path":"https://junnizhang.github.io/BayesRates/reference/nz_population.html","id":null,"dir":"Reference","previous_headings":"","what":"Adult population of New Zealand — nz_population","title":"Adult population of New Zealand — nz_population","text":"Person-years lived population aged 15+ age, sex, calendar year, New Zealand, 1992-2021","code":""},{"path":"https://junnizhang.github.io/BayesRates/reference/nz_population.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Adult population of New Zealand — nz_population","text":"","code":"nz_population"},{"path":"https://junnizhang.github.io/BayesRates/reference/nz_population.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Adult population of New Zealand — nz_population","text":"data frame following variables: age: Age, 5-year age groups, \"15-19\" \"65+\". sex: \"Female\" \"Male\". time: Calendar year. py: Person-years lived.","code":""},{"path":"https://junnizhang.github.io/BayesRates/reference/nz_population.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Adult population of New Zealand — nz_population","text":"Derived data table \"Estimated Resident Population Age Sex (1991+) (Annual-Dec)\" online database Infoshare Statistics New Zealand website. Data downloaded 26 March 2023.","code":""},{"path":[]},{"path":"https://junnizhang.github.io/BayesRates/reference/nz_population_2020.html","id":null,"dir":"Reference","previous_headings":"","what":"Adult population of New Zealand in 2020 — nz_population_2020","title":"Adult population of New Zealand in 2020 — nz_population_2020","text":"Person-years lived population aged 15+ age sex, New Zealand, 2020.","code":""},{"path":"https://junnizhang.github.io/BayesRates/reference/nz_population_2020.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Adult population of New Zealand in 2020 — nz_population_2020","text":"","code":"nz_population_2020"},{"path":"https://junnizhang.github.io/BayesRates/reference/nz_population_2020.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Adult population of New Zealand in 2020 — nz_population_2020","text":"data frame following variables: age: Age, 5-year age groups, \"15-19\" \"65+\". sex: \"Female\" \"Male\". py: Person-years lived.","code":""},{"path":"https://junnizhang.github.io/BayesRates/reference/nz_population_2020.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Adult population of New Zealand in 2020 — nz_population_2020","text":"Derived data table \"Estimated Resident Population Age Sex (1991+) (Annual-Dec)\" online database Infoshare Statistics New Zealand website. Data downloaded 26 March 2023.","code":""},{"path":[]},{"path":"https://junnizhang.github.io/BayesRates/reference/reexports.html","id":null,"dir":"Reference","previous_headings":"","what":"Objects exported from other packages — reexports","title":"Objects exported from other packages — reexports","text":"objects imported packages. Follow links see documentation. generics augment, components","code":""},{"path":"https://junnizhang.github.io/BayesRates/reference/smooth_age.html","id":null,"dir":"Reference","previous_headings":"","what":"Smooth rates over age — smooth_age","title":"Smooth rates over age — smooth_age","text":"Use data numbers events population risk produce estimates rates smoothed age. amount smoothing depends model used represent age effects. Current choices Spline() (default) RW2(). See documentation Spline() RW2() description mathematical models underlying smoothing.","code":""},{"path":"https://junnizhang.github.io/BayesRates/reference/smooth_age.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Smooth rates over age — smooth_age","text":"","code":"smooth_age(   nevent_df,   py_df,   agevar = \"age\",   byvar = character(),   age_width_df = NULL,   age_min = NULL,   spec_age = Spline() )"},{"path":"https://junnizhang.github.io/BayesRates/reference/smooth_age.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Smooth rates over age — smooth_age","text":"nevent_df data frame column called \"nevent\" containing number events, plus additional classification variables. py_df data frame column called \"py\" containing exposure, plus additional classification variables. agevar name age variable nevent_df py_df. Defaults \"age\". byvar names classification variables nevent_df py_df, age (eg \"sex\" \"region\"). Optional. age_width_df data frame columns \"age\" \"width\", giving widths age group. Required age group labels integers. age_min lower limit youngest age group. Required age group labels integers. spec_age prior model age effect. Current choices: Spline() RW2(). Defaults Spline().","code":""},{"path":"https://junnizhang.github.io/BayesRates/reference/smooth_age.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Smooth rates over age — smooth_age","text":"object class \"BayesRates_results\".","code":""},{"path":"https://junnizhang.github.io/BayesRates/reference/smooth_age.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Smooth rates over age — smooth_age","text":"Dataset nevent_df must contain variable called nevent giving counts events, dataset py_df must contain variable called py giving population risk. nevent_df py_df must also contain age variable. age variable users multi-year age groups (eg \"15-19\" \"65+\"), smooth_age() needs help interpreting age groups. data frame age_width_df must supplied giving width age group, well value age_min giving lower limit youngest age group. (Future versions BayesRates try parse age group labels automatically.) nevent_df py_df must contain time variable. analyse data age time dimensions, use function smooth_agetime(). nevent_df py_df can contain additional classifying variables, sex region. Independent models fitted combination levels additional variables.","code":""},{"path":[]},{"path":"https://junnizhang.github.io/BayesRates/reference/smooth_age.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Smooth rates over age — smooth_age","text":"","code":"res <- smooth_age(nevent_df = nz_divorces_2020,                   py_df = nz_population_2020,                   age_width_df = nz_age_width_df,                   age_min = 15) res #> --- Object of class \"BayesRates_results\" --- #>  #>      nevent ~ Poisson(rate * py) #>   log(rate) = age_effect #>  age_effect ~ Spline() #>  #>    agevar: age #>     byvar: <none> #>    n_draw: 1000"},{"path":"https://junnizhang.github.io/BayesRates/reference/smooth_agetime.html","id":null,"dir":"Reference","previous_headings":"","what":"Smooth rates over age and time — smooth_agetime","title":"Smooth rates over age and time — smooth_agetime","text":"Use data numbers events population risk produce estimates rates smoothed age time. amount smoothing depends model used represent age time effects. Current choices age effects Spline() (default) RW2(). Current choices time effects TimeVarying() (default) TimeFixed(). See documentation Spline(), RW2(), TimeVarying(), TimeFixed() description mathematical models underlying smoothing.","code":""},{"path":"https://junnizhang.github.io/BayesRates/reference/smooth_agetime.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Smooth rates over age and time — smooth_agetime","text":"","code":"smooth_agetime(   nevent_df,   py_df,   agevar = \"age\",   timevar = \"time\",   byvar = character(),   age_width_df = NULL,   age_min = NULL,   spec_age = Spline(),   spec_time = TimeVarying() )"},{"path":"https://junnizhang.github.io/BayesRates/reference/smooth_agetime.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Smooth rates over age and time — smooth_agetime","text":"nevent_df data frame column called \"nevent\" containing number events, plus additional classification variables. py_df data frame column called \"py\" containing exposure, plus additional classification variables. agevar name age variable nevent_df py_df. Defaults \"age\". timevar name time variable nevent_df py_df. Defaults \"time\". byvar names classification variables nevent_df py_df, age time (eg \"sex\" \"region\"). Optional. age_width_df data frame columns \"age\" \"width\", giving widths age group. Required age group labels integers. age_min lower limit youngest age group. Required age group labels integers. spec_age prior model age effect. Current choices: Spline() RW2(). Defaults Spline(). spec_time prior model time effect. Current choices: TimeFixed() TimeVarying(). Defaults TimeVarying().","code":""},{"path":"https://junnizhang.github.io/BayesRates/reference/smooth_agetime.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Smooth rates over age and time — smooth_agetime","text":"object class \"BayesRates_results\".","code":""},{"path":"https://junnizhang.github.io/BayesRates/reference/smooth_agetime.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Smooth rates over age and time — smooth_agetime","text":"Dataset nevent_df must contain variable called nevent giving counts events, dataset py_df must contain variable called py giving population risk. nevent_df py_df must also contain age variable. age variable users multi-year age groups (eg \"15-19\" \"65+\"), smooth_age() needs help interpreting age groups. data frame age_width_df must supplied giving width age group, well value age_min giving lower limit youngest age group. (Future versions BayesRates try parse age group labels automatically.) nevent_df py_df must contain time variable. analyse data without time dimension, use function smooth_age(). Times must single years, eg 2015, 2016, 2017. may gaps, eg 2010, 2015, 2020: smooth_agetime() automatically estimates values missing periods. nevent_df py_df can contain additional classifying variables, sex region. Independent models fitted combination levels additional variables.","code":""},{"path":[]},{"path":"https://junnizhang.github.io/BayesRates/reference/smooth_agetime.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Smooth rates over age and time — smooth_agetime","text":"","code":"results <- smooth_agetime(nevent_df = nz_divorces,                           py_df = nz_population,                           age_width_df = nz_age_width_df,                           age_min = 15) results #> --- Object of class \"BayesRates_results\" --- #>  #>      nevent ~ Poisson(rate * py) #>   log(rate) = age_effect + time_effect #>  age_effect ~ Spline() #> time_effect ~ TimeVarying() #>  #>    agevar: age #>   timevar: time #>     byvar: <none> #>    n_draw: 1000"},{"path":"https://junnizhang.github.io/BayesRates/reference/total_rate.html","id":null,"dir":"Reference","previous_headings":"","what":"Summarise rates by adding up over the life time — total_rate","title":"Summarise rates by adding up over the life time — total_rate","text":"Construct summary measure age-specific rates summing rates, weighted width age group. calculations equivalent used construct total fertility rate (TFR).","code":""},{"path":"https://junnizhang.github.io/BayesRates/reference/total_rate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summarise rates by adding up over the life time — total_rate","text":"","code":"total_rate(x, interval = 0.95)"},{"path":"https://junnizhang.github.io/BayesRates/reference/total_rate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summarise rates by adding up over the life time — total_rate","text":"x object class \"BayesRates_results\", constructed via call smooth_age() smooth_agetime(). interval Width credible intervals. number 0 1. Default 0.95.","code":""},{"path":"https://junnizhang.github.io/BayesRates/reference/total_rate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summarise rates by adding up over the life time — total_rate","text":"tibble following columns: time variable specified timevar, x created call smooth_agetime() classifying variables, specified byvar original call smooth_age() smooth_agetime() .fitted. Point estimates model. (Posterior medians.) .lower, .upper. Lower upper limits credible interval specified interval. .probability. list column containing draws posterior distribution. .observed. Total rates constructed direct estimates, ie events divided population, smoothing.","code":""},{"path":[]},{"path":"https://junnizhang.github.io/BayesRates/reference/total_rate.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Summarise rates by adding up over the life time — total_rate","text":"","code":"res <- smooth_agetime(nevent_df = cn_divorces,                       py_df = cn_population,                       spec_time = TimeFixed()) total_rate(res) #> # A tibble: 39 × 6 #>     time .fitted  .lower .upper .probability  .observed #>    <int>   <dbl>   <dbl>  <dbl> <list>            <dbl> #>  1  1980  0.0104 0.00568 0.0183 <dbl [1,000]>   0.00631 #>  2  1981  0.0119 0.00761 0.0190 <dbl [1,000]>   0.0133  #>  3  1982  0.0123 0.00785 0.0193 <dbl [1,000]>   0.00749 #>  4  1983  0.0149 0.00972 0.0221 <dbl [1,000]>   0.0147  #>  5  1984  0.0150 0.0102  0.0232 <dbl [1,000]>   0.00902 #>  6  1985  0.0180 0.0121  0.0267 <dbl [1,000]>   0.0248  #>  7  1986  0.0175 0.0121  0.0262 <dbl [1,000]>   0.0154  #>  8  1987  0.0177 0.0122  0.0253 <dbl [1,000]>   0.0116  #>  9  1988  0.0228 0.0159  0.0318 <dbl [1,000]>   0.0220  #> 10  1989  0.0254 0.0185  0.0349 <dbl [1,000]>   0.0177  #> # ℹ 29 more rows"}]
